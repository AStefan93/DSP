<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Digital Signal Processing: LD Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Digital Signal Processing
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Basic project for introduction in ADAS systems.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">LD Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac725c61b114fcf28e0fc6ddf79b22d66"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLD.html#ac725c61b114fcf28e0fc6ddf79b22d66">LaneDetection</a> (cv::Mat OriginalImg)</td></tr>
<tr class="memdesc:ac725c61b114fcf28e0fc6ddf79b22d66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lane Detection Function.  <a href="#ac725c61b114fcf28e0fc6ddf79b22d66">More...</a><br /></td></tr>
<tr class="separator:ac725c61b114fcf28e0fc6ddf79b22d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15dac98f5e6a2722f83342030086fb0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLD.html#a15dac98f5e6a2722f83342030086fb0f">Polyfit</a> (cv::vector&lt; cv::Point &gt; VectorPoints, cv::Mat &amp;dst)</td></tr>
<tr class="separator:a15dac98f5e6a2722f83342030086fb0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d90a5e486727d57152101c7c6e2c6b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLD.html#a1d90a5e486727d57152101c7c6e2c6b2">SlidingWindow</a> (cv::vector&lt; cv::Point &gt; &amp;left, cv::vector&lt; cv::Point &gt; &amp;right, cv::Mat img, cv::Mat &amp;img3)</td></tr>
<tr class="separator:a1d90a5e486727d57152101c7c6e2c6b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dbaaf7a39ee2d6d46c4f67cae71f651"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLD.html#a2dbaaf7a39ee2d6d46c4f67cae71f651">ROI</a> (cv::Mat &amp;img1, cv::Mat &amp;img2)</td></tr>
<tr class="separator:a2dbaaf7a39ee2d6d46c4f67cae71f651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad43fbc5868819b9d2b70f00ed45142f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLD.html#ad43fbc5868819b9d2b70f00ed45142f4">Horizontal_Sobel</a> (cv::Mat img, cv::Mat &amp;img1, cv::Mat &amp;img2)</td></tr>
<tr class="separator:ad43fbc5868819b9d2b70f00ed45142f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57364c31ed52bfa2b19a53ba9a6034f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLD.html#a57364c31ed52bfa2b19a53ba9a6034f5">FindPointsLane</a> (cv::Mat &amp;OriginalImg, cv::Mat img1, cv::Mat img2, cv::vector&lt; cv::Point &gt; &amp;OuterLeft, cv::vector&lt; cv::Point &gt; &amp;InnerLeft, cv::vector&lt; cv::Point &gt; &amp;InnerRight, cv::vector&lt; cv::Point &gt; &amp;OuterRight)</td></tr>
<tr class="separator:a57364c31ed52bfa2b19a53ba9a6034f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec4eb31efafac4e84d22dfd0b60e4e73"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLD.html#aec4eb31efafac4e84d22dfd0b60e4e73">BirdsEyeView</a> (cv::Mat img)</td></tr>
<tr class="separator:aec4eb31efafac4e84d22dfd0b60e4e73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a488c419fda62a06bb022fa025f4f3307"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLD.html#a488c419fda62a06bb022fa025f4f3307">Lane_Histogram</a> (cv::Mat img, int procent, int peaks)</td></tr>
<tr class="separator:a488c419fda62a06bb022fa025f4f3307"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aec4eb31efafac4e84d22dfd0b60e4e73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat LD::BirdsEyeView </td>
          <td>(</td>
          <td class="paramtype">cv::Mat&#160;</td>
          <td class="paramname"><em>img</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transforms a Picture from Normal view To Bird's eye view (view of the road fron the top). We choose 4 points in the original picture that we know should be on a straight line in reality, then we choose 4 points in the New picture, wich will correspond to the 4 that we chose on the first picture</p>
<p>used when first calling SlidingWindow , to specify in wich percentage of the image we will search the 2 starting points(from the bottom of the image) max deviation in percentage. ex 30 means if the deviation between 2 sliding windows is greater than 30% of SlidingWindowWidth, we ignore that deviation. This helps to ignore false detections Transforms a Picture from Normal view To Bird's eye view (view of the road fron the top). We choose 4 points in the original picture that we know should be on a straight line in reality, then we choose 4 points in the New picture, wich will correspond to the 4 that we chose on the first picture </p>
<p>we create the dst picture that we will return(rows, cols, type) </p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceLD_aec4eb31efafac4e84d22dfd0b60e4e73_icgraph.png" border="0" usemap="#namespaceLD_aec4eb31efafac4e84d22dfd0b60e4e73_icgraph" alt=""/></div>
<map name="namespaceLD_aec4eb31efafac4e84d22dfd0b60e4e73_icgraph" id="namespaceLD_aec4eb31efafac4e84d22dfd0b60e4e73_icgraph">
<area shape="rect" id="node2" href="namespaceLD.html#ac725c61b114fcf28e0fc6ddf79b22d66" title="Lane Detection Function. " alt="" coords="183,56,313,83"/>
<area shape="rect" id="node3" href="namespaceLD.html#a488c419fda62a06bb022fa025f4f3307" title="LD::Lane_Histogram" alt="" coords="367,5,509,32"/>
<area shape="rect" id="node6" href="dsp_8h.html#a5989468f3abed26950ce759d5f5ef6c0" title="Lane Detection Thread Function. " alt="" coords="361,56,515,83"/>
<area shape="rect" id="node4" href="namespaceLD.html#a57364c31ed52bfa2b19a53ba9a6034f5" title="LD::FindPointsLane" alt="" coords="563,5,700,32"/>
<area shape="rect" id="node5" href="namespaceLD.html#ad43fbc5868819b9d2b70f00ed45142f4" title="LD::Horizontal_Sobel" alt="" coords="748,56,895,83"/>
<area shape="rect" id="node7" href="dsp_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main DSP Function. " alt="" coords="606,56,657,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a57364c31ed52bfa2b19a53ba9a6034f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LD::FindPointsLane </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>OriginalImg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat&#160;</td>
          <td class="paramname"><em>img1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat&#160;</td>
          <td class="paramname"><em>img2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::vector&lt; cv::Point &gt; &amp;&#160;</td>
          <td class="paramname"><em>OuterLeft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::vector&lt; cv::Point &gt; &amp;&#160;</td>
          <td class="paramname"><em>InnerLeft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::vector&lt; cv::Point &gt; &amp;&#160;</td>
          <td class="paramname"><em>InnerRight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::vector&lt; cv::Point &gt; &amp;&#160;</td>
          <td class="paramname"><em>OuterRight</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function recieves OriginalImg (wich will be modified), img1, img2=the 2 sobel images(left and right) and the 4 arrays of points , wich will be also filled with the points detected for each of the 2 lanes(inner and outer) </p>
<p>if we are on the middle column, we change that pixel to red (to print the middle line, that separes the 2 lanes)</p>
<p>k counts the points found at each row between the white on the left sobel and the white in the right sobel. if k becomes greater than the LaneWidth that means that this is not a lane, so we dont need to save those points and k becomes 0 again</p>
<p>if k&gt;0 that means that we found a white pixel in the left sobel image so we need to continue to search from that point, but in the left sobel to find the end on the Lane. While we search , k increase and when it become greater than LaneWidth, that means this is not a Lane portion</p>
<p>we check if we found the corresponding point in the right sobel img</p>
<p>if j&lt; middle, that means we are on the left side of the image</p>
<p>so we push the point in the Inner Left vector, but also the point -k wich is the beginning of the lane (the left side of the lane)</p>
<p>&lt; if we didnt find yet the corresponding point in the right sobel img we keep searchiing, while increasing k</p>
<p>here, if we found 1 white pixel in the left sobel img then we make k=1, to start searching in the right sobel img </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceLD_a57364c31ed52bfa2b19a53ba9a6034f5_cgraph.png" border="0" usemap="#namespaceLD_a57364c31ed52bfa2b19a53ba9a6034f5_cgraph" alt=""/></div>
<map name="namespaceLD_a57364c31ed52bfa2b19a53ba9a6034f5_cgraph" id="namespaceLD_a57364c31ed52bfa2b19a53ba9a6034f5_cgraph">
<area shape="rect" id="node2" href="namespaceLD.html#a15dac98f5e6a2722f83342030086fb0f" title="LD::Polyfit" alt="" coords="591,5,675,32"/>
<area shape="rect" id="node3" href="LaneDetection_8cpp.html#a2f936c207781a3e556f28e64bd464322" title="PrintLines" alt="" coords="222,208,302,235"/>
<area shape="rect" id="node4" href="namespaceLD.html#a488c419fda62a06bb022fa025f4f3307" title="LD::Lane_Histogram" alt="" coords="191,107,333,133"/>
<area shape="rect" id="node5" href="namespaceLD.html#a1d90a5e486727d57152101c7c6e2c6b2" title="LD::SlidingWindow" alt="" coords="567,56,700,83"/>
<area shape="rect" id="node6" href="namespaceLD.html#ac725c61b114fcf28e0fc6ddf79b22d66" title="Lane Detection Function. " alt="" coords="381,107,512,133"/>
<area shape="rect" id="node7" href="namespaceLD.html#aec4eb31efafac4e84d22dfd0b60e4e73" title="LD::BirdsEyeView" alt="" coords="569,107,698,133"/>
<area shape="rect" id="node8" href="namespaceLD.html#ad43fbc5868819b9d2b70f00ed45142f4" title="LD::Horizontal_Sobel" alt="" coords="560,208,707,235"/>
<area shape="rect" id="node9" href="namespaceLD.html#a2dbaaf7a39ee2d6d46c4f67cae71f651" title="LD::ROI" alt="" coords="755,183,825,209"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceLD_a57364c31ed52bfa2b19a53ba9a6034f5_icgraph.png" border="0" usemap="#namespaceLD_a57364c31ed52bfa2b19a53ba9a6034f5_icgraph" alt=""/></div>
<map name="namespaceLD_a57364c31ed52bfa2b19a53ba9a6034f5_icgraph" id="namespaceLD_a57364c31ed52bfa2b19a53ba9a6034f5_icgraph">
<area shape="rect" id="node2" href="namespaceLD.html#ad43fbc5868819b9d2b70f00ed45142f4" title="LD::Horizontal_Sobel" alt="" coords="191,5,337,32"/>
<area shape="rect" id="node3" href="namespaceLD.html#ac725c61b114fcf28e0fc6ddf79b22d66" title="Lane Detection Function. " alt="" coords="385,5,516,32"/>
<area shape="rect" id="node4" href="namespaceLD.html#a488c419fda62a06bb022fa025f4f3307" title="LD::Lane_Histogram" alt="" coords="569,56,712,83"/>
<area shape="rect" id="node5" href="dsp_8h.html#a5989468f3abed26950ce759d5f5ef6c0" title="Lane Detection Thread Function. " alt="" coords="564,5,717,32"/>
<area shape="rect" id="node6" href="dsp_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main DSP Function. " alt="" coords="765,5,816,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad43fbc5868819b9d2b70f00ed45142f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LD::Horizontal_Sobel </td>
          <td>(</td>
          <td class="paramtype">cv::Mat&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>img1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>img2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>We get the img and we modify the img1 and img2 wich will be : img1= img on wich we applyed sobel filret from left img2= img on wich we applyed sobel filret from right </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceLD_ad43fbc5868819b9d2b70f00ed45142f4_cgraph.png" border="0" usemap="#namespaceLD_ad43fbc5868819b9d2b70f00ed45142f4_cgraph" alt=""/></div>
<map name="namespaceLD_ad43fbc5868819b9d2b70f00ed45142f4_cgraph" id="namespaceLD_ad43fbc5868819b9d2b70f00ed45142f4_cgraph">
<area shape="rect" id="node2" href="namespaceLD.html#a2dbaaf7a39ee2d6d46c4f67cae71f651" title="LD::ROI" alt="" coords="786,5,857,32"/>
<area shape="rect" id="node3" href="namespaceLD.html#a57364c31ed52bfa2b19a53ba9a6034f5" title="LD::FindPointsLane" alt="" coords="200,132,337,159"/>
<area shape="rect" id="node4" href="namespaceLD.html#a15dac98f5e6a2722f83342030086fb0f" title="LD::Polyfit" alt="" coords="779,157,863,184"/>
<area shape="rect" id="node5" href="LaneDetection_8cpp.html#a2f936c207781a3e556f28e64bd464322" title="PrintLines" alt="" coords="417,208,497,235"/>
<area shape="rect" id="node6" href="namespaceLD.html#a488c419fda62a06bb022fa025f4f3307" title="LD::Lane_Histogram" alt="" coords="385,107,528,133"/>
<area shape="rect" id="node7" href="namespaceLD.html#a1d90a5e486727d57152101c7c6e2c6b2" title="LD::SlidingWindow" alt="" coords="755,107,888,133"/>
<area shape="rect" id="node8" href="namespaceLD.html#ac725c61b114fcf28e0fc6ddf79b22d66" title="Lane Detection Function. " alt="" coords="576,56,707,83"/>
<area shape="rect" id="node9" href="namespaceLD.html#aec4eb31efafac4e84d22dfd0b60e4e73" title="LD::BirdsEyeView" alt="" coords="757,56,886,83"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceLD_ad43fbc5868819b9d2b70f00ed45142f4_icgraph.png" border="0" usemap="#namespaceLD_ad43fbc5868819b9d2b70f00ed45142f4_icgraph" alt=""/></div>
<map name="namespaceLD_ad43fbc5868819b9d2b70f00ed45142f4_icgraph" id="namespaceLD_ad43fbc5868819b9d2b70f00ed45142f4_icgraph">
<area shape="rect" id="node2" href="namespaceLD.html#ac725c61b114fcf28e0fc6ddf79b22d66" title="Lane Detection Function. " alt="" coords="200,56,331,83"/>
<area shape="rect" id="node3" href="namespaceLD.html#a488c419fda62a06bb022fa025f4f3307" title="LD::Lane_Histogram" alt="" coords="384,56,527,83"/>
<area shape="rect" id="node5" href="dsp_8h.html#a5989468f3abed26950ce759d5f5ef6c0" title="Lane Detection Thread Function. " alt="" coords="379,5,532,32"/>
<area shape="rect" id="node4" href="namespaceLD.html#a57364c31ed52bfa2b19a53ba9a6034f5" title="LD::FindPointsLane" alt="" coords="580,81,717,108"/>
<area shape="rect" id="node6" href="dsp_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main DSP Function. " alt="" coords="623,5,674,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a488c419fda62a06bb022fa025f4f3307"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int * LD::Lane_Histogram </td>
          <td>(</td>
          <td class="paramtype">cv::Mat&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>procent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>peaks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>we will receive a sobel image(right or left sobel) and for every column, we count the white pixels and we create a histogram but we will analyze only the lower half of the image (the second parameter of the function is percentage of image ex 30=&gt;30% of bottom image) because we will see the peak point of the 2 halfs of the histogram those peaks will be the beginning of the 2 lanes(left and right) we will need to know where the 2 lines begin, to later apply a method for detecting the lanes</p>
<p>the thrid parameter of the function is the number of peaks we are looking for</p>
<p>we will recieve a sobel image(right or left sobel) and for every column, we count the white pixels and we create a histogram but we will analyze only the lower half of the image (the second parameter of the function is percentage of image ex 30=&gt;30% of bottom image) because we will see the peak point of the 2 halfs of the histogram those peaks will be the beginning of the 2 lanes(left and right) we will need to know where the 2 lines begin, to later apply a method for detecting the lanes</p>
<p>the thrid parameter of the function is the number of peaks we are looking for </p>
<p>result[0] will be the numbers of (white points)/ (all pixels) (between 0 and 100) result[1] wil lbe the first peak, and (optionally) result[2] the second one</p>
<p>totalSum will be the total number of white pixels in the image</p>
<p>for each column, the sum resets sum is the number of white pixels found on each column</p>
<p>in the current column, we start from the bottom till the (100-procent) of the image (ex procent=30 , so we go from 100% to 70% of image, starting from the bottom)</p>
<p>and if the pixel is white</p>
<p>we increment sum</p>
<p>find the peaks of the histogram</p>
<p>if we find a column with sum of white pixels greater than max, then we save that column (the i column), and its number of white pixels in maxSum</p>
<p>we search the left pick</p>
<p>we search the right pick</p>
<p>peak==1 we put peak1 in the result pointer, peak==2, we put both peaks </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceLD_a488c419fda62a06bb022fa025f4f3307_cgraph.png" border="0" usemap="#namespaceLD_a488c419fda62a06bb022fa025f4f3307_cgraph" alt=""/></div>
<map name="namespaceLD_a488c419fda62a06bb022fa025f4f3307_cgraph" id="namespaceLD_a488c419fda62a06bb022fa025f4f3307_cgraph">
<area shape="rect" id="node2" href="namespaceLD.html#a1d90a5e486727d57152101c7c6e2c6b2" title="LD::SlidingWindow" alt="" coords="381,5,515,32"/>
<area shape="rect" id="node3" href="namespaceLD.html#ac725c61b114fcf28e0fc6ddf79b22d66" title="Lane Detection Function. " alt="" coords="196,107,327,133"/>
<area shape="rect" id="node4" href="namespaceLD.html#aec4eb31efafac4e84d22dfd0b60e4e73" title="LD::BirdsEyeView" alt="" coords="383,157,513,184"/>
<area shape="rect" id="node5" href="namespaceLD.html#ad43fbc5868819b9d2b70f00ed45142f4" title="LD::Horizontal_Sobel" alt="" coords="375,208,521,235"/>
<area shape="rect" id="node6" href="namespaceLD.html#a2dbaaf7a39ee2d6d46c4f67cae71f651" title="LD::ROI" alt="" coords="603,132,673,159"/>
<area shape="rect" id="node8" href="namespaceLD.html#a15dac98f5e6a2722f83342030086fb0f" title="LD::Polyfit" alt="" coords="755,107,839,133"/>
<area shape="rect" id="node7" href="namespaceLD.html#a57364c31ed52bfa2b19a53ba9a6034f5" title="LD::FindPointsLane" alt="" coords="569,208,707,235"/>
<area shape="rect" id="node9" href="LaneDetection_8cpp.html#a2f936c207781a3e556f28e64bd464322" title="PrintLines" alt="" coords="757,208,837,235"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceLD_a488c419fda62a06bb022fa025f4f3307_icgraph.png" border="0" usemap="#namespaceLD_a488c419fda62a06bb022fa025f4f3307_icgraph" alt=""/></div>
<map name="namespaceLD_a488c419fda62a06bb022fa025f4f3307_icgraph" id="namespaceLD_a488c419fda62a06bb022fa025f4f3307_icgraph">
<area shape="rect" id="node2" href="namespaceLD.html#a57364c31ed52bfa2b19a53ba9a6034f5" title="LD::FindPointsLane" alt="" coords="196,5,333,32"/>
<area shape="rect" id="node3" href="namespaceLD.html#ad43fbc5868819b9d2b70f00ed45142f4" title="LD::Horizontal_Sobel" alt="" coords="381,5,528,32"/>
<area shape="rect" id="node4" href="namespaceLD.html#ac725c61b114fcf28e0fc6ddf79b22d66" title="Lane Detection Function. " alt="" coords="576,31,707,57"/>
<area shape="rect" id="node5" href="dsp_8h.html#a5989468f3abed26950ce759d5f5ef6c0" title="Lane Detection Thread Function. " alt="" coords="755,31,908,57"/>
<area shape="rect" id="node6" href="dsp_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main DSP Function. " alt="" coords="956,31,1007,57"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac725c61b114fcf28e0fc6ddf79b22d66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int LD::LaneDetection </td>
          <td>(</td>
          <td class="paramtype">cv::Mat&#160;</td>
          <td class="paramname"><em>OriginalImg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lane Detection Function. </p>
<p>This function is the Lane Detection function called by the higher <a class="el" href="namespaceDSP.html">DSP</a> component. It calls all the other functions it requires for the full <a class="el" href="namespaceLD.html">LD</a> algorithm. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">OriginalImg</td><td>- is the current frame passed to <a class="el" href="namespaceLD.html">LD</a> for processing. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceLD_ac725c61b114fcf28e0fc6ddf79b22d66_cgraph.png" border="0" usemap="#namespaceLD_ac725c61b114fcf28e0fc6ddf79b22d66_cgraph" alt=""/></div>
<map name="namespaceLD_ac725c61b114fcf28e0fc6ddf79b22d66_cgraph" id="namespaceLD_ac725c61b114fcf28e0fc6ddf79b22d66_cgraph">
<area shape="rect" id="node2" href="namespaceLD.html#aec4eb31efafac4e84d22dfd0b60e4e73" title="LD::BirdsEyeView" alt="" coords="193,5,322,32"/>
<area shape="rect" id="node3" href="namespaceLD.html#ad43fbc5868819b9d2b70f00ed45142f4" title="LD::Horizontal_Sobel" alt="" coords="184,107,331,133"/>
<area shape="rect" id="node4" href="namespaceLD.html#a2dbaaf7a39ee2d6d46c4f67cae71f651" title="LD::ROI" alt="" coords="412,56,483,83"/>
<area shape="rect" id="node6" href="namespaceLD.html#a15dac98f5e6a2722f83342030086fb0f" title="LD::Polyfit" alt="" coords="593,157,677,184"/>
<area shape="rect" id="node9" href="namespaceLD.html#a1d90a5e486727d57152101c7c6e2c6b2" title="LD::SlidingWindow" alt="" coords="755,233,888,260"/>
<area shape="rect" id="node5" href="namespaceLD.html#a57364c31ed52bfa2b19a53ba9a6034f5" title="LD::FindPointsLane" alt="" coords="379,107,516,133"/>
<area shape="rect" id="node7" href="LaneDetection_8cpp.html#a2f936c207781a3e556f28e64bd464322" title="PrintLines" alt="" coords="595,107,675,133"/>
<area shape="rect" id="node8" href="namespaceLD.html#a488c419fda62a06bb022fa025f4f3307" title="LD::Lane_Histogram" alt="" coords="564,208,707,235"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceLD_ac725c61b114fcf28e0fc6ddf79b22d66_icgraph.png" border="0" usemap="#namespaceLD_ac725c61b114fcf28e0fc6ddf79b22d66_icgraph" alt=""/></div>
<map name="namespaceLD_ac725c61b114fcf28e0fc6ddf79b22d66_icgraph" id="namespaceLD_ac725c61b114fcf28e0fc6ddf79b22d66_icgraph">
<area shape="rect" id="node2" href="namespaceLD.html#a488c419fda62a06bb022fa025f4f3307" title="LD::Lane_Histogram" alt="" coords="189,5,332,32"/>
<area shape="rect" id="node5" href="dsp_8h.html#a5989468f3abed26950ce759d5f5ef6c0" title="Lane Detection Thread Function. " alt="" coords="184,56,337,83"/>
<area shape="rect" id="node3" href="namespaceLD.html#a57364c31ed52bfa2b19a53ba9a6034f5" title="LD::FindPointsLane" alt="" coords="385,5,523,32"/>
<area shape="rect" id="node4" href="namespaceLD.html#ad43fbc5868819b9d2b70f00ed45142f4" title="LD::Horizontal_Sobel" alt="" coords="571,56,717,83"/>
<area shape="rect" id="node6" href="dsp_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main DSP Function. " alt="" coords="429,56,479,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a15dac98f5e6a2722f83342030086fb0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LD::Polyfit </td>
          <td>(</td>
          <td class="paramtype">cv::vector&lt; cv::Point &gt;&#160;</td>
          <td class="paramname"><em>VectorPoints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>here we take a vector of points, and a destination matrix on wich we will save the coefficients of the polynom found by polyfit </p>
<p>we create 2 Mats(matrix), with 1 column and z rows where z=the number of elements of the VectorPoints</p>
<p>dst will be a matrix of 1 column and grade+1 where grade=grade of the polynom</p>
<p>for each element of the array, we save its x on the src_x matrix and its y on the src_y matrix</p>
<p>we apply polyfit, wich will result in 4 coefficients saved in dst </p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceLD_a15dac98f5e6a2722f83342030086fb0f_icgraph.png" border="0" usemap="#namespaceLD_a15dac98f5e6a2722f83342030086fb0f_icgraph" alt=""/></div>
<map name="namespaceLD_a15dac98f5e6a2722f83342030086fb0f_icgraph" id="namespaceLD_a15dac98f5e6a2722f83342030086fb0f_icgraph">
<area shape="rect" id="node2" href="namespaceLD.html#a57364c31ed52bfa2b19a53ba9a6034f5" title="LD::FindPointsLane" alt="" coords="137,56,275,83"/>
<area shape="rect" id="node4" href="namespaceLD.html#ac725c61b114fcf28e0fc6ddf79b22d66" title="Lane Detection Function. " alt="" coords="517,56,648,83"/>
<area shape="rect" id="node3" href="namespaceLD.html#ad43fbc5868819b9d2b70f00ed45142f4" title="LD::Horizontal_Sobel" alt="" coords="323,56,469,83"/>
<area shape="rect" id="node5" href="namespaceLD.html#a488c419fda62a06bb022fa025f4f3307" title="LD::Lane_Histogram" alt="" coords="701,5,844,32"/>
<area shape="rect" id="node6" href="dsp_8h.html#a5989468f3abed26950ce759d5f5ef6c0" title="Lane Detection Thread Function. " alt="" coords="696,56,849,83"/>
<area shape="rect" id="node7" href="dsp_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main DSP Function. " alt="" coords="897,56,948,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2dbaaf7a39ee2d6d46c4f67cae71f651"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LD::ROI </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>img1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>img2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Region of interest we take img1 and img2 , crop the region we need from them and discard the rest(make black the parts that we dont need) </p>
<p>array of points</p>
<p>The points ORDER is important</p>
<p>we push back the points that delimitates the region wich interest us</p>
<p>make an empty mask the dimensions of img1, CV_8UC1=8bit pixel with 1 channel(white and black)</p>
<p>Initialize the polygon delimited by the points with white</p>
<p>create a new image by copying only the rectangle from the img</p>
<p>&lt;WHAT WE PASTE</p>
<p>form is now the part of mask1 that contains the ROI delimited by the points</p>
<p>&lt; HOW WE PASTE(In wich form)</p>
<p>imgROI is the adress at wich we will paste the ROI</p>
<p>&lt; WHERE WE PASTE</p>
<p>copy roi(the part that we need from the entire photo) to: imgROI(the adrees=the place),form=the form in wich we want it to pe pasted</p>
<p>now we copy the result in img1 and img2, wich will remain modified </p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceLD_a2dbaaf7a39ee2d6d46c4f67cae71f651_icgraph.png" border="0" usemap="#namespaceLD_a2dbaaf7a39ee2d6d46c4f67cae71f651_icgraph" alt=""/></div>
<map name="namespaceLD_a2dbaaf7a39ee2d6d46c4f67cae71f651_icgraph" id="namespaceLD_a2dbaaf7a39ee2d6d46c4f67cae71f651_icgraph">
<area shape="rect" id="node2" href="namespaceLD.html#ad43fbc5868819b9d2b70f00ed45142f4" title="LD::Horizontal_Sobel" alt="" coords="124,107,271,133"/>
<area shape="rect" id="node3" href="namespaceLD.html#ac725c61b114fcf28e0fc6ddf79b22d66" title="Lane Detection Function. " alt="" coords="319,56,449,83"/>
<area shape="rect" id="node4" href="namespaceLD.html#a488c419fda62a06bb022fa025f4f3307" title="LD::Lane_Histogram" alt="" coords="503,56,645,83"/>
<area shape="rect" id="node6" href="dsp_8h.html#a5989468f3abed26950ce759d5f5ef6c0" title="Lane Detection Thread Function. " alt="" coords="497,5,651,32"/>
<area shape="rect" id="node5" href="namespaceLD.html#a57364c31ed52bfa2b19a53ba9a6034f5" title="LD::FindPointsLane" alt="" coords="699,81,836,108"/>
<area shape="rect" id="node7" href="dsp_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main DSP Function. " alt="" coords="742,5,793,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1d90a5e486727d57152101c7c6e2c6b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LD::SlidingWindow </td>
          <td>(</td>
          <td class="paramtype">cv::vector&lt; cv::Point &gt; &amp;&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::vector&lt; cv::Point &gt; &amp;&#160;</td>
          <td class="paramname"><em>right</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>img3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function will recieve two vector of points that will store the detected points of the lanes(left and right) using sliding window on the img(the third parameter of this function), wich will be a sobel image. The forth parameter is just am image on wich we draw the windows, to see them(is not essential) We will use the existing function Hitogram to determin the procent of white pixels in each SlidingWindow, and the peak(or peaks) </p>
<p>we will first apply SlidingWindow on the img, so we see the 2 starting points of the lanes.Those will be the middles of the 2 windows</p>
<p>this pointer will be a vector with 1 or 2 parameters returned by the function Histogram</p>
<p>we apply the histogram to 30% of the bottom of img, and expect 2 points from it (StartingPointsPercentage is a #define with the value 30)!!</p>
<p>a and b will be the 2 starting points(columns)</p>
<p>first points that marks the beginning of the first sliding windows. We put them in the arrays</p>
<p>sliding window will be 5% of img.cols, SlidingWindowWidth (another #define) we use only the 2 sliding windows from this row, and call Histogram for them, to see where the middle will be,then we add them to the vectors</p>
<p>parameters for the rectangle</p>
<p>starting X point of the rectangle. We test if the rectangle is out of the img, then we put t to begin at pixel 1, because a rectangle cant exist outside of one image</p>
<p>Starting Y point of the rectangle</p>
<p>width of the rectangle</p>
<p>height of the rectangle</p>
<p>we create the left rectangle: r1</p>
<p>The parameters for the right rectangle</p>
<p>we create the right rectangle</p>
<p>we call Histogram function for the left window. img(r1) means we call the function giving only the rectangle part of img</p>
<p>//if the peak of the window is on one of the extremities , that means the window does not contain white, so we do not update the "a" variable</p>
<p>we call Histogram function for the right window.</p>
<p>we put the points in the vectors. The point is X= a or b, and Y=Between the rows. (If the for gives "i" values that are every 5% of the rows, we give it another 2.5% that is img.rows/40, so it will be 5%+2.5%=7.5%.....)See the paper in the Drawer, I draw this</p>
<p>We draw the rectangles(sliding windows) on another image, ant then we will imgshow it in Main </p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceLD_a1d90a5e486727d57152101c7c6e2c6b2_icgraph.png" border="0" usemap="#namespaceLD_a1d90a5e486727d57152101c7c6e2c6b2_icgraph" alt=""/></div>
<map name="namespaceLD_a1d90a5e486727d57152101c7c6e2c6b2_icgraph" id="namespaceLD_a1d90a5e486727d57152101c7c6e2c6b2_icgraph">
<area shape="rect" id="node2" href="namespaceLD.html#a488c419fda62a06bb022fa025f4f3307" title="LD::Lane_Histogram" alt="" coords="187,56,329,83"/>
<area shape="rect" id="node5" href="namespaceLD.html#ac725c61b114fcf28e0fc6ddf79b22d66" title="Lane Detection Function. " alt="" coords="757,56,888,83"/>
<area shape="rect" id="node3" href="namespaceLD.html#a57364c31ed52bfa2b19a53ba9a6034f5" title="LD::FindPointsLane" alt="" coords="377,5,515,32"/>
<area shape="rect" id="node4" href="namespaceLD.html#ad43fbc5868819b9d2b70f00ed45142f4" title="LD::Horizontal_Sobel" alt="" coords="563,5,709,32"/>
<area shape="rect" id="node6" href="dsp_8h.html#a5989468f3abed26950ce759d5f5ef6c0" title="Lane Detection Thread Function. " alt="" coords="936,56,1089,83"/>
<area shape="rect" id="node7" href="dsp_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main DSP Function. " alt="" coords="1137,56,1188,83"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
